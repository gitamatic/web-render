<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Guitar Notes on Canvas</title>
  <style>
    body { background: #222; color: white; text-align: center; }
    canvas { background: #111; margin-top: 20px; border: 1px solid #555; }
  </style>
</head>
<body>
  <h2>Vizualizare note chitara ðŸŽ¸</h2>
  <canvas id="guitarCanvas" width="1200" height="400"></canvas>

  <script>
    // ---- Generare note ----
    function generateNote(startTime) {
      return {
        time: startTime,
        length: Math.floor(Math.random() * 3000) + 200,
        volume: Math.floor(Math.random() * 100) + 1,
        fret: Math.floor(Math.random() * 22)
      };
    }

    const strings = Array.from({ length: 6 }, () => {
      const noteCount = Math.floor(Math.random() * 11) + 5;
      let currentTime = 0;
      return Array.from({ length: noteCount }, () => {
        const note = generateNote(currentTime);
        currentTime = note.time + note.length + Math.floor(Math.random() * 500);
        return note;
      });
    });

    // ---- Desen pe canvas ----
    const canvas = document.getElementById("guitarCanvas");
    const ctx = canvas.getContext("2d");

    const stringSpacing = 60; // distanÈ›a Ã®ntre corzi
    const noteHeight = 20;    // grosimea unei note

    ctx.font = "12px Arial";
    ctx.fillStyle = "white";

    strings.forEach((notes, stringIndex) => {
      const y = (stringIndex + 1) * stringSpacing;

      // desenÄƒm linia coardei
      ctx.strokeStyle = "#666";
      ctx.beginPath();
      ctx.moveTo(0, y);
      ctx.lineTo(canvas.width, y);
      ctx.stroke();

      // desenÄƒm fiecare notÄƒ
      notes.forEach(note => {
        const x = note.time / 5; // scalare timp â†’ pixeli
        const width = note.length / 5;

        // culoare bazatÄƒ pe volum
        const volumeColor = `hsl(${note.volume * 3.6}, 100%, 50%)`;
        ctx.fillStyle = volumeColor;

        ctx.fillRect(x, y - noteHeight / 2, width, noteHeight);

        // text cu fret
        ctx.fillStyle = "black";
        ctx.fillText(note.fret, x + 4, y + 4);
      });
    });
  </script>
</body>
</html>
